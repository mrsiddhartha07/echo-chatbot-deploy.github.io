(window["webpackJsonpecho-chatbot"]=window["webpackJsonpecho-chatbot"]||[]).push([[0],{30:function(e,t,n){e.exports=n(44)},35:function(e,t,n){},36:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(19),c=n.n(o),s=(n(35),n(36),n(9)),i=n(10),l=n(15),u=n(11),p=n(16),m=n(14),h=function(e,t){return{type:e,payload:t}},d=(n(41),function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={username:"",password:""},n.submitFormHandler=function(e){e.preventDefault(),n.props.triggerLogin(n.state.username),n.props.history.push("/chatwindow")},n.inputChangeHandler=function(e){"username"===e.target.name?n.setState({username:e.target.value}):n.setState({password:e.target.value})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"login-component container"},a.a.createElement("h1",null,"Welcome To ChatBot"),a.a.createElement("form",{className:"my-5 login-form text-left container w-50",method:"post",onSubmit:this.submitFormHandler},a.a.createElement("h3",{className:"text-center"},"Login"),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"d-block"},"User Name"),a.a.createElement("input",{className:"d-block form-control",name:"username",type:"text",placeholder:"Enter username",required:!0,value:this.state.username,onChange:this.inputChangeHandler})),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"d-block"},"Password"),a.a.createElement("input",{className:"d-block form-control",name:"password",type:"password",placeholder:"Enter password",required:!0,value:this.state.password,onChange:this.inputChangeHandler})),a.a.createElement("button",{className:"btn-primary btn-lg btn-block form-control"},"Sign In")))}}]),t}(a.a.Component)),b=Object(m.b)(null,function(e){return{triggerLogin:function(t){e(h("TRIGGER_LOGIN",t))}}})(d),f=n(13);n(42);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var g=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={chat:""},n.onMessage=function(e){n.props.addMessage({username:n.props.chatBot,chat:e.data})},n.onOpen=function(e){n.props.connectedWebSocket()},n.changeChatHandler=function(e){n.setState({chat:e.target.value})},n.submitChatHandler=function(e){e.preventDefault(),n.props.addMessage({username:n.props.currentUser,chat:n.state.chat}),n.websocket.send(n.state.chat)},n.props=e,n.websocket=new WebSocket("wss://echo.websocket.org/"),n.websocket.onopen=function(e){n.onOpen(e)},n.websocket.onclose=function(e){n.onClose(e)},n.websocket.onmessage=function(e){n.onMessage(e)},n.websocket.onerror=function(e){n.onError(e)},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){window.scrollTo(0,document.body.scrollHeight||document.documentElement.scrollHeight)}},{key:"backToLogin",value:function(){window.history.back()}},{key:"render",value:function(){var e=this;return this.props.connected?this.props.error?a.a.createElement("div",null,"Failed to Connect"):a.a.createElement("div",{className:"chat-window container"},a.a.createElement("div",{className:"container"},this.props.usersChat.map(function(e,t){return a.a.createElement("div",{"data-username":e.username,className:"ChatBot"===e.username?"text-left":"text-right",key:e.username+t},a.a.createElement("span",null,e.username+" : "),a.a.createElement("span",null,e.chat))})),a.a.createElement("div",{className:"chat-box "},a.a.createElement("form",{method:"post",className:"d-flex",onSubmit:this.submitChatHandler},a.a.createElement("input",{type:"text d-block",className:"form-control",name:"chatText",value:this.state.chat,required:!0,onChange:this.changeChatHandler,placeholder:"Enter your message here"}),a.a.createElement("button",{type:"submit",className:"btn-secondary btn-lg ml-2"},"Send"),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){e.backToLogin()},className:"btn-primary mr-3 back-to-login"},"Back To Login"))))):a.a.createElement("div",null,"Loading")}}]),t}(a.a.Component),y=Object(m.b)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.handleChat,{},e.addUser)},function(e){return{connectedWebSocket:function(){e(h("CHAT_CONNECTED"))},disconnectedWebSocket:function(){e(h("CHAT_DISCONNECTED"))},addMessage:function(t){e(h("ON_MESSAGE",t))},onError:function(){e(h("CHAT_ERROR"))}}})(g),E=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.history.push("/login")}},{key:"render",value:function(){return a.a.createElement("div",null," ")}}]),t}(a.a.Component),w=n(28),v=n(8),j=function(e){var t=e.store;return a.a.createElement(m.a,{store:t},a.a.createElement(w.a,null,a.a.createElement(v.c,null,a.a.createElement(v.a,{exact:!0,path:"/",component:E}),a.a.createElement(v.a,{exact:!0,path:"/login",component:b}),a.a.createElement(v.a,{exact:!0,path:"/chatwindow",component:y}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=n(12),k=n(18);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S={usersChat:[],connected:!1,chatBot:"ChatBot",error:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHAT_CONNECTED":return P({},e,{connected:!0});case"CHAT_DISCONNECTED":return P({},e,{connected:!1});case"CHAT_ERROR":return P({},e,{error:!0});case"ON_MESSAGE":return e.usersChat===[]?P({},e,{usersChat:[{username:t.payload.username,chat:t.payload.chat}]}):P({},e,{usersChat:[].concat(Object(k.a)(e.usersChat),[t.payload])});default:return e}};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var x={currentUser:"",users:[]},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TRIGGER_LOGIN":return H({},e,{currentUser:t.payload,users:-1!==e.users.indexOf(t.payload)?Object(k.a)(e.users):[].concat(Object(k.a)(e.users),[t.payload])});default:return e}},_=Object(C.b)({addUser:R,handleChat:D}),A=Object(C.c)(_);c.a.render(a.a.createElement(j,{store:A}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.a18bed07.chunk.js.map